// gcc -g -fno-stack-protector -z execstack -m32 example3.c -o example3
// 0

// NOTE: when executed we will skip the instruction right after the
// call to function and the printf() will print simply 0 instead of 1.

#include <stdio.h>
#include <string.h>

void function(int a, int b, int c) {
   char buffer1[32];
   int *ret;

   memset(buffer1, 'A', 32);

   ret = buffer1 + 12*4;
   (*ret) += 10;
}

void main() {
  int x;

  x = 0;
  function(1,2,3);
  x = 1;
  printf("%d\n",x);
}
